{"componentChunkName":"component---src-pages-upgrade-logging-mdx","path":"/upgrade/logging/","result":{"pageContext":{"frontmatter":{"title":"Logging"},"relativePagePath":"/upgrade/logging.mdx","titleType":"append","MdxNode":{"id":"ec5180e8-12af-54df-b563-d87aa91b996c","children":[],"parent":"4199a07a-e810-59e0-9c4a-42294bf1595c","internal":{"content":"---\ntitle: Logging\n---           \n\n## Manage Server Logs\n- Manage server logs are written to the standard output. You can view the logs from the OpenShift console. \n  - Go to your OpenShift console, navigate to the Workload/Pods menu, Select your Manage project.\n  - Check your Liberty server pods. Select the server pod to view log. \n    - cron \n    - mea \n    - report\n    - ui\n    - all\n\n![image](images/serverpod.png)\n<p></p>\n\n  - Click on Liberty server pod. Select the Log tab to view the log for the selected server.\n\n![image](images/serverlog.png)\n<p></p>\n\n\n- You can also configure MAS supported log configuration by OpenShift. For example, **Elasticsearch, Fluentd, and Kibana dashboard (EFK)** can be configured for Logging. The logs automatically flow to the EFK stack.\n  - Aggregated Manage logs can be retrieved from the EFK stack.\n  - https://docs.openshift.com/container-platform/4.6/logging/cluster-logging-deploying.html\n\n\n- You can also push the logs to any S3 compatible object storage by following the steps below:\n  - Setup: \n    - Set up S3 credentials.\n    - Create the following four environment variables in your Manage deployment:\n      - LOG_BUCKETNAME\n      - LOG_S3ACCESSKEY\n      - LOG_S3ENDPOINTURL\n        - For example: https://s3.us.cloud.object.storage.appdomain.cloud\n      - LOG_S3SECRETKEY\n  - Create a log request(POST) using any HTTP Rest Client. For example, the Postman tool.\n    - Request URL: http://manageserver:7001/maximo/oslc/service/logging?action=wsmethd:submitUploadRequest\n      - Replace the manageserver in the above URL to your manage server host or IP address.\n      - A record will be created in the Manage table(LOGREQUEST)\n   - Each  Manage server handles the latest log request. It will zip the logs in the liberty log directory and upload it in COS. \n   - You can use the S3 browser to view the logs using your S3 credentials.\n   - The logs can be downloaded from the Liberty server. It will be in the directory that is set for the system property \"server.output.dir\".\n     - For example, \"/opt/was/libert/wip/usr/servers/default/\n     - A record will be created in the Manage table (LOGREQUESTDET)\n     - The Manage table records will be removed by cron task (LOGREQUESTCLEANUP) after posting logs to the object storage.\n       - The cron task needs to be activated manually. It will run once every day.\n   \n\n## Maxinst/Update Database Logs\n- The maxinst and update database logs can be retrieved from the maxinst pod.\n  - From the OpenShift console, go to the Workloads/Pods menu, select the maxinst pod for your project. \n  - You can select maxinst pod. \n\n![image](images/maxinstpod.png)\n<p></p>\n\n  - Go to terminal tab and `cd log` (/opt/IBM/SMP/maximo/tools/log/) to view logs. \n  \n![image](images/dblog2.png)\n<p></p>\n\n- You can also view the log from the Logs tab.\n\n![image](images/dblog1.png)\n\n## User Sync Log\n- The User Sync log can be accessed from the user sync pod.\n  - Click on the user sync pod and select Logs tab.\n\n![image](images/usersyncpod.png)\n\n\n## Manage Workspace Operator Log\n- The Manage Workspace operator log can be accessed from the manage workspace pod.\n  - Click on the Manage workspace pod and select Logs tab.\n  \n![image](images/wspod.png)\n\n\n## Build Log\n- The build log can be accessed from the manage build pods.\n  - Click on the Manage build pod and select Logs tab.\n  \n![image](images/buildpod.png)","type":"Mdx","contentDigest":"881564dddae58cbc8b8df0020664828f","owner":"gatsby-plugin-mdx","counter":228},"frontmatter":{"title":"Logging"},"exports":{},"rawBody":"---\ntitle: Logging\n---           \n\n## Manage Server Logs\n- Manage server logs are written to the standard output. You can view the logs from the OpenShift console. \n  - Go to your OpenShift console, navigate to the Workload/Pods menu, Select your Manage project.\n  - Check your Liberty server pods. Select the server pod to view log. \n    - cron \n    - mea \n    - report\n    - ui\n    - all\n\n![image](images/serverpod.png)\n<p></p>\n\n  - Click on Liberty server pod. Select the Log tab to view the log for the selected server.\n\n![image](images/serverlog.png)\n<p></p>\n\n\n- You can also configure MAS supported log configuration by OpenShift. For example, **Elasticsearch, Fluentd, and Kibana dashboard (EFK)** can be configured for Logging. The logs automatically flow to the EFK stack.\n  - Aggregated Manage logs can be retrieved from the EFK stack.\n  - https://docs.openshift.com/container-platform/4.6/logging/cluster-logging-deploying.html\n\n\n- You can also push the logs to any S3 compatible object storage by following the steps below:\n  - Setup: \n    - Set up S3 credentials.\n    - Create the following four environment variables in your Manage deployment:\n      - LOG_BUCKETNAME\n      - LOG_S3ACCESSKEY\n      - LOG_S3ENDPOINTURL\n        - For example: https://s3.us.cloud.object.storage.appdomain.cloud\n      - LOG_S3SECRETKEY\n  - Create a log request(POST) using any HTTP Rest Client. For example, the Postman tool.\n    - Request URL: http://manageserver:7001/maximo/oslc/service/logging?action=wsmethd:submitUploadRequest\n      - Replace the manageserver in the above URL to your manage server host or IP address.\n      - A record will be created in the Manage table(LOGREQUEST)\n   - Each  Manage server handles the latest log request. It will zip the logs in the liberty log directory and upload it in COS. \n   - You can use the S3 browser to view the logs using your S3 credentials.\n   - The logs can be downloaded from the Liberty server. It will be in the directory that is set for the system property \"server.output.dir\".\n     - For example, \"/opt/was/libert/wip/usr/servers/default/\n     - A record will be created in the Manage table (LOGREQUESTDET)\n     - The Manage table records will be removed by cron task (LOGREQUESTCLEANUP) after posting logs to the object storage.\n       - The cron task needs to be activated manually. It will run once every day.\n   \n\n## Maxinst/Update Database Logs\n- The maxinst and update database logs can be retrieved from the maxinst pod.\n  - From the OpenShift console, go to the Workloads/Pods menu, select the maxinst pod for your project. \n  - You can select maxinst pod. \n\n![image](images/maxinstpod.png)\n<p></p>\n\n  - Go to terminal tab and `cd log` (/opt/IBM/SMP/maximo/tools/log/) to view logs. \n  \n![image](images/dblog2.png)\n<p></p>\n\n- You can also view the log from the Logs tab.\n\n![image](images/dblog1.png)\n\n## User Sync Log\n- The User Sync log can be accessed from the user sync pod.\n  - Click on the user sync pod and select Logs tab.\n\n![image](images/usersyncpod.png)\n\n\n## Manage Workspace Operator Log\n- The Manage Workspace operator log can be accessed from the manage workspace pod.\n  - Click on the Manage workspace pod and select Logs tab.\n  \n![image](images/wspod.png)\n\n\n## Build Log\n- The build log can be accessed from the manage build pods.\n  - Click on the Manage build pod and select Logs tab.\n  \n![image](images/buildpod.png)","fileAbsolutePath":"/home/travis/build/maximo/manage-playbook/src/pages/upgrade/logging.mdx"}}},"staticQueryHashes":["1054721580","1054721580","1364590287","2102389209","2102389209","2456312558","2746626797","2746626797","3018647132","3018647132","3037994772","3037994772","768070550"]}