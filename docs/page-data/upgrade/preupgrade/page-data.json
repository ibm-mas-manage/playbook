{"componentChunkName":"component---src-pages-upgrade-preupgrade-mdx","path":"/upgrade/preupgrade/","result":{"pageContext":{"frontmatter":{"title":"Pre-Upgrade"},"relativePagePath":"/upgrade/preupgrade.mdx","titleType":"append","MdxNode":{"id":"6af46983-11d3-5418-91ff-f29cdba67a3a","children":[],"parent":"9e16077a-55b8-57dd-b213-6fce06884768","internal":{"content":"---\ntitle: Pre-Upgrade \n---           \n \n## Pre-Upgrade Considerations\n\n- [Authentication](https://www.ibm.com/docs/en/mas84/8.4.0?topic=administering-configuring-authentication)\n  - Local Identity Provider (username/password registered in Mongo DB) will be used for authentication by default. \n  - LDAP or SAML can be configured for authentication before or after installing Manage applications using the `Configuration` page in MAS admin dashboard.\n    - Only LDAP registries supported by [Liberty](https://www.ibm.com/docs/en/was-liberty/base?topic=SSEQTP_liberty/com.ibm.websphere.liberty.autogen.nd.doc/ae/rwlp_feature_ldapRegistry-3.0.html) runtime can be used.\n    - If you are currently using LDAP or SAML, your existing configuration can be used in MAS.\n <p></p> \n- [Encryption and Security](https://www.ibm.com/docs/en/maximo-manage/8.2.0?topic=database-encryption )\n  - If you are using custom encryption keys for CRYPTO/CRYTOX attributes then the custom keys need to be provided during the Manage application installation.\n    - In Maximo 7.6, custom encryption properties are specified in the `maximo.properties` file. After the Manage application installation, the keys are stored as a secret (`{instance_id}-manage-encryptionsecret`) in the Manage OpenShift project. The keys should also be saved in a secured vault. If the keys are lost, the database cannot be used.\n    <p></p>\n- [SMTP Configuration](https://www.ibm.com/docs/en/mas84/8.4.0?topic=administering-configuring-smtp)\n    - SMTP configuration will be retained in the database during the upgrade. It will be used by Manage for sending emails as before.\n    - MAS admin dashboard also provides SMTP configuration. This configuration will be used for sending welcome emails and user password emails.\n    <p></p>\n- **Industry Solution/Add-ons**\n  - All the Industry Solutions/Add-ons need to be manually selected that are currently installed in your database to be upgraded. This will be fixed in the future release. All the Industry Solutions/Add-ons will be pre-selected based on the existing environment.\n    <p></p>  \n- [Attached Documents](https://www.ibm.com/docs/en/maximo-manage/8.2.0?topic=product-administering-configuring-attached-documents)\n  - If using Cloud Object Storage(COS), no change is needed. Your existing credentials will be retained. \n  - If using file system such as NFS:      \n    - The persistent storage (specifically storage software and deployments, storage provisioner, storage classes, and persistent volumes) need to be set up. \n    - You need to specify the required storage configuration (volume name, storage class, size, and mount path) from MAS admin dashboard (or CR) during the application deployment.\n    - The Manage provides a Persistent Claim to claim this storage configuration and set up shared folders inside Manage pods accordingly.  \n    - After upgrade, the same mount path can be set up as the doclinks directory in the current system and no configuration change will be needed for the doclinks configuration. If the mount path is different then the doclinks configuration needs to be updated to point to the new path. \n     <p></p> \n  - **Migrate attached documents to AZURE file share**\n    - In AZURE the storage account for doclinks is typically configured with a private link and uploading from an outside network will not work. One of the following options can be used to upload the file:\n    - **Create an additional file share in AZURE**\n      - Create a new storage account with a new SMB file share. \n      - Upload the attachments from your Maximo server, for example, with Azure Storage Explorer.  \n      - Open a Bastion connection in AZURE to your Jumpserver, and mount the share.\n      - Move the files to the final doclinks directories.            \n    - **Use SSH tunnel** \n      - Create an SSH tunnel from your local machine and use SCP to copy the files to AZURE.\n      - Open PowerShell session and create tunnel\n      ```\n      az network bastion tunnel --name '{BAstionHostname}' --resource-group '{Name}' --target-resource-id '{ResourceID}' --resource-port 22 --port 50022\n      ```\n      - Use SCP in the new PowerShell session\n      ```\n      scp -P 50022 -r '/{localPath}/DOCLINKS/ATTACHMENTS' azureuser@127.0.0.1:/tmp/filesfrommaximo\n      ```\n      - Login to Bastion Node and delete old documents, if any\n      ```\n      sudo rm -r /mount/doclinks/ATTACHMENTS\n      ```\n      - Move files from /tmp/filesfrommaximo to mounted doclinks directory\n      ```\n      sudo mv /tmp/filesfrommaximo/ATTACHMENTS /mount/\n      ```\n      <p></p>\n  - **Update Properties**\n    - Update system settings with the new values. This might vary and depends on your current Maximo setup. For example,\n      - mxe.doclink.path01\n      - mxe.doclink.doctypes.defpath\n      - mxe.doclink.doctypes.topLevelPaths\n      `Secured attachments` should always be enabled for MAS/Manage\n    - Update the path in the doclink table:\n    ```\n    update docinfo set urlname = replace(urlname, 'C:','');\n    update docinfo set urlname =  replace(urlname, '\\','/');\n    update docinfo set urlname =  replace(urlname, 'DOCLINKS','doclinks');\n    ```\n    - Verify the docinfo table, as the directories are case-sensitive in Manage.\n\n      \n\n\n\n        \n\n\n\n      \n.","type":"Mdx","contentDigest":"7ec34dce4755962af907bf3fc45f9e66","owner":"gatsby-plugin-mdx","counter":229},"frontmatter":{"title":"Pre-Upgrade"},"exports":{},"rawBody":"---\ntitle: Pre-Upgrade \n---           \n \n## Pre-Upgrade Considerations\n\n- [Authentication](https://www.ibm.com/docs/en/mas84/8.4.0?topic=administering-configuring-authentication)\n  - Local Identity Provider (username/password registered in Mongo DB) will be used for authentication by default. \n  - LDAP or SAML can be configured for authentication before or after installing Manage applications using the `Configuration` page in MAS admin dashboard.\n    - Only LDAP registries supported by [Liberty](https://www.ibm.com/docs/en/was-liberty/base?topic=SSEQTP_liberty/com.ibm.websphere.liberty.autogen.nd.doc/ae/rwlp_feature_ldapRegistry-3.0.html) runtime can be used.\n    - If you are currently using LDAP or SAML, your existing configuration can be used in MAS.\n <p></p> \n- [Encryption and Security](https://www.ibm.com/docs/en/maximo-manage/8.2.0?topic=database-encryption )\n  - If you are using custom encryption keys for CRYPTO/CRYTOX attributes then the custom keys need to be provided during the Manage application installation.\n    - In Maximo 7.6, custom encryption properties are specified in the `maximo.properties` file. After the Manage application installation, the keys are stored as a secret (`{instance_id}-manage-encryptionsecret`) in the Manage OpenShift project. The keys should also be saved in a secured vault. If the keys are lost, the database cannot be used.\n    <p></p>\n- [SMTP Configuration](https://www.ibm.com/docs/en/mas84/8.4.0?topic=administering-configuring-smtp)\n    - SMTP configuration will be retained in the database during the upgrade. It will be used by Manage for sending emails as before.\n    - MAS admin dashboard also provides SMTP configuration. This configuration will be used for sending welcome emails and user password emails.\n    <p></p>\n- **Industry Solution/Add-ons**\n  - All the Industry Solutions/Add-ons need to be manually selected that are currently installed in your database to be upgraded. This will be fixed in the future release. All the Industry Solutions/Add-ons will be pre-selected based on the existing environment.\n    <p></p>  \n- [Attached Documents](https://www.ibm.com/docs/en/maximo-manage/8.2.0?topic=product-administering-configuring-attached-documents)\n  - If using Cloud Object Storage(COS), no change is needed. Your existing credentials will be retained. \n  - If using file system such as NFS:      \n    - The persistent storage (specifically storage software and deployments, storage provisioner, storage classes, and persistent volumes) need to be set up. \n    - You need to specify the required storage configuration (volume name, storage class, size, and mount path) from MAS admin dashboard (or CR) during the application deployment.\n    - The Manage provides a Persistent Claim to claim this storage configuration and set up shared folders inside Manage pods accordingly.  \n    - After upgrade, the same mount path can be set up as the doclinks directory in the current system and no configuration change will be needed for the doclinks configuration. If the mount path is different then the doclinks configuration needs to be updated to point to the new path. \n     <p></p> \n  - **Migrate attached documents to AZURE file share**\n    - In AZURE the storage account for doclinks is typically configured with a private link and uploading from an outside network will not work. One of the following options can be used to upload the file:\n    - **Create an additional file share in AZURE**\n      - Create a new storage account with a new SMB file share. \n      - Upload the attachments from your Maximo server, for example, with Azure Storage Explorer.  \n      - Open a Bastion connection in AZURE to your Jumpserver, and mount the share.\n      - Move the files to the final doclinks directories.            \n    - **Use SSH tunnel** \n      - Create an SSH tunnel from your local machine and use SCP to copy the files to AZURE.\n      - Open PowerShell session and create tunnel\n      ```\n      az network bastion tunnel --name '{BAstionHostname}' --resource-group '{Name}' --target-resource-id '{ResourceID}' --resource-port 22 --port 50022\n      ```\n      - Use SCP in the new PowerShell session\n      ```\n      scp -P 50022 -r '/{localPath}/DOCLINKS/ATTACHMENTS' azureuser@127.0.0.1:/tmp/filesfrommaximo\n      ```\n      - Login to Bastion Node and delete old documents, if any\n      ```\n      sudo rm -r /mount/doclinks/ATTACHMENTS\n      ```\n      - Move files from /tmp/filesfrommaximo to mounted doclinks directory\n      ```\n      sudo mv /tmp/filesfrommaximo/ATTACHMENTS /mount/\n      ```\n      <p></p>\n  - **Update Properties**\n    - Update system settings with the new values. This might vary and depends on your current Maximo setup. For example,\n      - mxe.doclink.path01\n      - mxe.doclink.doctypes.defpath\n      - mxe.doclink.doctypes.topLevelPaths\n      `Secured attachments` should always be enabled for MAS/Manage\n    - Update the path in the doclink table:\n    ```\n    update docinfo set urlname = replace(urlname, 'C:','');\n    update docinfo set urlname =  replace(urlname, '\\','/');\n    update docinfo set urlname =  replace(urlname, 'DOCLINKS','doclinks');\n    ```\n    - Verify the docinfo table, as the directories are case-sensitive in Manage.\n\n      \n\n\n\n        \n\n\n\n      \n.","fileAbsolutePath":"/home/travis/build/maximo/manage-playbook/src/pages/upgrade/preupgrade.mdx"}}},"staticQueryHashes":["1364590287","137577622","137577622","2102389209","2102389209","2456312558","2746626797","2746626797","3018647132","3018647132","3037994772","3037994772","768070550"]}